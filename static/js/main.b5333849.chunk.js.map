{"version":3,"sources":["aima/checkers.js","aima/minimax.js","aima/alphabeta.js","Components/Square.js","Components/Board.js","Components/Checker.js","Components/CheckersGroup.js","Components/HelpMessage.js","Components/ErrorMessage.js","Components/Subtitles.js","App.js","serviceWorker.js","index.js"],"names":["checkers","Game","initialState","p","q","player","opponent","state","actions","flatMap","y","x","royal","directions","direction","move","jump","filter","action","_","some","dist","result","recursiveResult","terminalTest","length","utility","heuristic","startPoint","onBoard","endPoint","occupied","endPointRoyal","prev","occupiedBy","crowned","direction2","forward","sideward","steps","playerDirection","find","y2","x2","pos","posA","posB","eq","y1","x1","nextPlayer","stepResult","slice","intermediate","Math","abs","minimaxDecision","game","limit","map","outcome","minValue","reduce","current","next","maximinDecision","maxValue","max","Infinity","min","alphaBetaSearch","betaAlphaSearch","alpha","beta","v","Square","highlighted","showHighlight","this","props","ref","join","className","colour","onClick","parentCallback","React","Component","Board","key","highlightedSquares","validMove","Checker","style","top","left","CheckersGroup","pieces","selectedChecker","highlightedCheckers","HelpMessage","highlights","limits","dumb","smart","window","open","ErrorMessage","type","message","error","Subtitles","help","setState","undefined","ai","WelcomeMessage","CongratulationMessage","config","pruning","pauseTime","highlightsDefault","App","displayQueue","moveResult","highlightResult","arg","setTimeout","aiMoves","regularActions","console","log","pSearch","qSearch","floor","random","search","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.b5333849.chunk.js","sourcesContent":["import { Game } from 'aima'\n\nexport const checkers = new Game({\n  initialState: {\n    p: [\n      [0, 0, false], [0, 2, false], [0, 4, false], [0, 6, false],\n      [1, 1, false], [1, 3, false], [1, 5, false], [1, 7, false],\n      [2, 0, false], [2, 2, false], [2, 4, false], [2, 6, false]\n    ],\n    q: [\n      [5, 1, false], [5, 3, false], [5, 5, false], [5, 7, false],\n      [6, 0, false], [6, 2, false], [6, 4, false], [6, 6, false],\n      [7, 1, false], [7, 3, false], [7, 5, false], [7, 7, false]\n    ],\n    player: 'p',\n    opponent: 'q'\n  },\n  player: state => state.player,\n  actions: state => state[state.player].flatMap(([y, x, royal]) =>\n    directions(royal).flatMap(direction => [\n      ...move(state, [y, x, royal], direction),\n      ...jump(state, [y, x, royal], direction)\n    ]))\n    .filter((action, _, actions) =>\n      !actions.some(action => dist(action[0], action[1]) / 2 === 2) ||\n      dist(action[0], action[1]) / 2 === 2\n    ),\n  result: (state, action) => recursiveResult(state, action, true),\n  terminalTest: state =>\n    state.p.length === 0 ||\n    state.q.length === 0 ||\n    checkers.actions(state).length === 0,\n  utility: state => state.p.length - state.q.length,\n  heuristic: state => state.p.length - state.q.length\n})\n\nconst move = (state, startPoint, direction) =>\n  onBoard(endPoint(state, startPoint, direction)) &&\n    !occupied(state, endPoint(state, startPoint, direction))\n    ? [[startPoint, endPointRoyal(state, startPoint, direction)]]\n    : []\n\nconst jump = (state, [y, x, royal], direction, prev = []) =>\n  onBoard(endPoint(state, [y, x], direction, 2)) &&\n    !occupied(state, endPoint(state, [y, x], direction, 2)) &&\n    occupiedBy(state, endPoint(state, [y, x], direction), state.opponent)\n    ? [\n      [\n        ...prev,\n        [y, x, royal],\n        endPointRoyal(state, [y, x, royal], direction, 2)\n      ],\n      ...directions(crowned(state, [y, x, royal], direction, 2))\n        .flatMap(direction2 => jump(\n          prev.length === 1 ? state : recursiveResult(state, prev),\n          endPointRoyal(state, [y, x, royal], direction, 2),\n          direction2,\n          [...prev, [y, x, royal]]\n        )\n        )\n    ]\n    : []\n\nconst endPoint = (state, [y, x, royal], [forward, sideward], steps = 1) => [\n  y + forward * playerDirection(state) * steps,\n  x + sideward * steps\n]\n\nconst crowned = (state, [y, x, royal], [forward, sideward], steps = 1) =>\n  royal ||\n  y + forward * playerDirection(state) * steps === 3.5 + 3.5 * playerDirection(state) ||\n  (steps === 2 && state[state.opponent].find(([y2, x2]) =>\n    y2 === y + forward * playerDirection(state) && x2 === x + sideward)[2])\n\nconst endPointRoyal = (state, [y, x, royal], [forward, sideward], steps = 1) => [\n  ...endPoint(state, [y, x, royal], [forward, sideward], steps),\n  crowned(state, [y, x, royal], [forward, sideward], steps)\n]\n\nconst onBoard = ([y, x]) => y >= 0 && y <= 7 && x >= 0 && x <= 7\n\nconst occupied = (state, pos) =>\n  ['p', 'q'].some(p => occupiedBy(state, pos, p))\n\nconst occupiedBy = (state, posA, player) =>\n  state[player].some(posB => eq(posA, posB))\n\nexport const playerDirection = state => state.player === 'p' ? +1 : -1\n\nexport const eq = ([y1, x1], [y2, x2]) => y1 === y2 && x1 === x2\n\nconst directions = royal => [[+1, -1], [+1, +1], ...royal ? [[-1, -1], [-1, +1]] : []]\n\nconst recursiveResult = (state, action, nextPlayer = false) =>\n  action.length >= 2\n    ? stepResult(\n      recursiveResult(state, action.slice(0, action.length - 1)),\n      action[action.length - 2],\n      action[action.length - 1],\n      nextPlayer\n    )\n    : state\n\nconst stepResult = (state, startPoint, endPoint, nextPlayer) => ({\n  [state.player]: [\n    ...state[state.player].filter(pos => !eq(pos, startPoint)),\n    endPoint\n  ],\n  [state.opponent]: state[state.opponent].filter(pos =>\n    dist(startPoint, endPoint) / 2 === 1 ||\n    !eq(pos, intermediate(startPoint, endPoint))\n  ),\n  player: nextPlayer ? state.opponent : state.player,\n  opponent: nextPlayer ? state.player : state.opponent\n})\n\nexport const dist = ([y1, x1], [y2, x2]) => Math.abs(y2 - y1) + Math.abs(x2 - x1)\n\nconst intermediate = ([y1, x1], [y2, x2]) => [(y1 + y2) / 2, (x1 + x2) / 2]\n","export const minimaxDecision = (game, state, limit) =>\n  game.actions(state)\n    .map(action => ({\n      action: action,\n      outcome: minValue(game, game.result(state, action), limit - 1)\n    }))\n    .reduce((current, next) => next.outcome > current.outcome ? next : current)\n\nexport const maximinDecision = (game, state, limit) =>\n  game.actions(state)\n    .map(action => ({\n      action: action,\n      outcome: maxValue(game, game.result(state, action), limit - 1)\n    }))\n    .reduce((current, next) => next.outcome < current.outcome ? next : current)\n\nconst maxValue = (game, state, limit) =>\n  game.terminalTest(state)\n    ? game.utility(state)\n    : limit < 1\n      ? game.heuristic(state)\n      : game.actions(state).reduce((prev, current) =>\n        Math.max(prev, minValue(game, game.result(state, current), limit - 1)), -Infinity)\n\nconst minValue = (game, state, limit) =>\n  game.terminalTest(state)\n    ? game.utility(state)\n    : limit < 1\n      ? game.heuristic(state)\n      : game.actions(state).reduce((prev, current) =>\n        Math.min(prev, maxValue(game, game.result(state, current), limit - 1)), Infinity)\n","// cf. https://github.com/aimacode/aima-pseudocode/blob/master/md/Alpha-Beta-Search.md\n\nexport const alphaBetaSearch = (game, state, limit) =>\n  game.actions(state)\n    .map(action => ({\n      action: action,\n      outcome: minValue(game, game.result(state, action), limit - 1, -Infinity, +Infinity)\n    }))\n    .reduce((current, next) => next.outcome > current.outcome ? next : current)\n\nexport const betaAlphaSearch = (game, state, limit) =>\n  game.actions(state)\n    .map(action => ({\n      action: action,\n      outcome: maxValue(game, game.result(state, action), limit - 1, -Infinity, +Infinity)\n    }))\n    .reduce((current, next) => next.outcome < current.outcome ? next : current)\n\nconst maxValue = (game, state, limit, alpha, beta) => {\n  if (game.terminalTest(state)) return game.utility(state)\n  if (limit < 1) return game.heuristic(state)\n  let v = -Infinity\n  for (const action of game.actions(state)) {\n    v = Math.max(v, minValue(game, game.result(state, action), limit, alpha, beta))\n    if (v >= beta) return v\n    alpha = Math.max(alpha, v)\n  }\n  return v\n}\n\nconst minValue = (game, state, limit, alpha, beta) => {\n  if (game.terminalTest(state)) return game.utility(state)\n  if (limit < 1) return game.heuristic(state)\n  let v = +Infinity\n  for (const action of game.actions(state)) {\n    v = Math.min(v, maxValue(game, game.result(state, action), limit, alpha, beta))\n    if (v <= alpha) return v\n    beta = Math.min(beta, v)\n  }\n  return v\n}\n","import React from 'react'\n\nexport default class Square extends React.Component {\n  colour (highlighted, showHighlight) {\n    return (this.props.y + this.props.x) % 2 === 1\n      ? 'light-tile'\n      : highlighted && showHighlight\n        ? 'dark-tile active'\n        : 'dark-tile'\n  }\n\n  render () {\n    return (\n      <div\n        ref={[this.props.y, this.props.x].join('-')}\n        className={this.colour(this.props.highlighted, this.props.showHighlight)}\n        onClick={() => this.props.parentCallback(this.props.highlighted)}\n      />\n    )\n  }\n}\n","import React from 'react'\nimport Square from './Square'\n\nexport default class Board extends React.Component {\n  render () {\n    return (\n      <div className='board'>\n        {\n          [7, 6, 5, 4, 3, 2, 1, 0].map(y =>\n            <div className='row' key={y}>\n              {\n                [0, 1, 2, 3, 4, 5, 6, 7].map(x =>\n                  <Square\n                    highlighted={\n                      this.props.highlightedSquares.some(([y2, x2]) => y2 === y && x2 === x)\n                    }\n                    showHighlight={this.props.showHighlight}\n                    y={y}\n                    x={x}\n                    state={this.props.state}\n                    parentCallback={\n                      (validMove) => this.props.parentCallback(y, x, validMove)\n                    }\n                    key={x}\n                  />\n                )\n              }\n            </div>\n          )\n        }\n      </div>\n    )\n  }\n}\n","import React from 'react'\n\nconst checkerStyle = (y, x) => ({\n  top: 'calc(50vh - 50vmin + 1.25vmin + ' + 12.5 * (7 - y) + 'vmin)',\n  left: 'calc(50vw - 50vmin + 1.25vmin + ' + 12.5 * x + 'vmin)'\n})\n\nexport default class Checker extends React.Component {\n  render () {\n    return (\n      <div\n        onClick={() => {\n          this.props.parentCallback()\n        }}\n        className={\n          (this.props.player === 'p' ? 'checker-dark' : 'checker-light') +\n          (this.props.highlighted ? ' highlighted' : '') +\n          (this.props.royal ? ' royal' : '')\n        }\n        style={checkerStyle(this.props.y, this.props.x)}\n      />\n    )\n  }\n}\n","import React from 'react'\nimport Checker from './Checker'\nimport { eq } from '../aima/checkers'\n\nexport default class CheckersGroup extends React.Component {\n  render () {\n    return this.props.pieces.map(([y, x]) =>\n      <Checker\n        player={this.props.player}\n        selectedChecker={this.props.selectedChecker}\n        highlighted={this.props.highlightedCheckers.some(pos => eq(pos, [y, x]))}\n        parentCallback={() => this.props.parentCallback(y, x)}\n        y={y}\n        x={x}\n        royal={this.props.pieces.find(p => eq(p, [y, x]))[2]}\n        key={y + ',' + x}\n      />\n    )\n  }\n}\n","import React from 'react'\n\nexport default class HelpMessage extends React.Component {\n  render () {\n    return (\n      <div className='dialog help'>\n        <div className='bottomed'>\n          <div>\n            <span onClick={() => this.props.parentCallback('hide')}>\n              Hide help.\n            </span>\n          </div>\n          <div>\n            <p>\n              Highlights are {this.props.highlights ? 'enabled. ' : 'disabled. '}\n            </p>\n          </div>\n          <div>\n            <span onClick={() => this.props.parentCallback('highlights', !this.props.highlights)}>\n              {this.props.highlights ? 'Disable them. ' : 'Enable them. '}\n            </span>\n          </div>\n          <div>\n            <p>\n              You win the game if your opponent cannot do any moves and you have more pieces than them. In each round, you can move one of your checkers forward to a neighbouring empty black square. If this square is occupied by your opponent but the next square in this direction is free, then you can jump to the free square whilst your opponent will lose their checker. After a jump, you can perform another jump in the same round. If you reach the last row with a checker, it will be crowned and you can also move and jump backwards with it. When a checker jumps over a crowned checker, it will take over the crown. The same rules apply to both players. The player with the brown checkers starts.\n            </p>\n          </div>\n          <div>\n            <p>\n              You can choose an AI for each player. The Random Moves AI will perform random, valid moves. The other AIs presume are perfect and presume that you are perfect. The Dumb AI anticipates {this.props.limits.dumb} rounds, the Intermediate AI {this.props.limits.intermediate} rounds, and the Smart AI {this.props.limits.smart} rounds.\n            </p>\n          </div>\n          <div>\n            <p>\n              This is an open-source game. You are very welcome to report bugs and to contribute.\n            </p>\n          </div>\n          <div>\n            <span onClick={() => window.open('https://github.com/davidpomerenke/checkers', '_blank')}>\n              Find it on GitHub.\n            </span>\n          </div>\n          <div>\n            <span onClick={() => this.props.parentCallback('hide')}>\n              Hide help.\n            </span>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport { checkers, eq, dist, playerDirection } from '../aima/checkers'\n\nexport default class ErrorMessage extends React.Component {\n  message (type, state, y, x, player) {\n    let message // clear prior subtitle messages\n    if (type === 'invalid move') {\n      if (state.selectedChecker.length !== 2) {\n        message = 'Please select the checker you want to move.'\n      } else if ((y + x) % 2 === 1) {\n        message = 'You can only move diagonally â€“ that is, to another black square.'\n      } else if ((y - state.selectedChecker[0]) * playerDirection(state.state) <= 0) {\n        message = 'You can only move forward (unless you are royal).'\n      } else if (\n        checkers.actions(state.state).some(action =>\n          eq(action[0], state.selectedChecker) && dist(action[0], action[1]) / 2 === 2) &&\n        dist(state.selectedChecker, [y, x]) / 2 === 1\n      ) {\n        message = 'There is a jump available, so you need to jump.' // the modal fallacy\n      } else {\n        message = 'You can only move one step at a time (unless you jump over your opponent\\'s checker).'\n      }\n    } else if (type === 'invalid checker') {\n      if (state.state.player !== player) {\n        // error messages for checker selections of the wrong colour\n        if (state.selectedChecker.length === 2) {\n          // if this is an attempted move\n          message = 'You can only move to an empty square.'\n        } else {\n          // if this is an attempted checker selection\n          message = (state.state.player === 'p' ? ' Brown ' : ' Beige ') + ' is next.'\n        }\n      } else if (!checkers.actions(state.state).some(action => eq(action[0], [y, x]))) {\n        // error messages for invalid checker selections of the right colour\n        if (\n          checkers.actions(state.state).some(action =>\n            dist(action[0], action[1]) / 2 === 2) &&\n          !checkers.actions(state.state).some(action =>\n            eq(action[0], [y, x]) && dist(action[0], action[1]) / 2 === 2)\n        ) {\n          message = 'There is a jump available for one or more different checkers, so you need to perform one of these jumps.'\n        } else {\n          message = 'All moves of this checker are blocked.'\n        }\n      }\n    }\n    return message\n  }\n\n  render () {\n    const message = this.message(this.props.error[0], this.props.error[1], this.props.error[2], this.props.error[3], this.props.error[4])\n    return message\n      ? (\n        <div>\n          <p>\n            {message}\n          </p>\n          <div>\n            <span onClick={() => this.props.parentCallback('help')}>\n              Read the rules.\n            </span>\n          </div>\n        </div>)\n      : ''\n  }\n}\n","import React from 'react'\nimport { checkers } from '../aima/checkers'\nimport HelpMessage from './HelpMessage'\nimport ErrorMessage from './ErrorMessage'\n\nexport default class Subtitles extends React.Component {\n  constructor () {\n    super()\n    this.state = { help: false }\n  }\n\n  render () {\n    return (\n      <div className={'subtitles' + (!this.state.help ? ' marginal' : '')}>\n        {this.state.help && (\n          <HelpMessage\n            highlights={this.props.highlights}\n            limits={this.props.limits}\n            parentCallback={action =>\n              action === 'hide'\n                ? this.setState({ help: false })\n                : this.props.parentCallback({ highlights: !this.props.highlights })}\n          />\n        )}\n        {this.props.error.length > 0 && !this.state.help && (\n          <ErrorMessage\n            error={this.props.error}\n            parentCallback={type => this.setState({ help: true })}\n          />\n        )}\n        {this.props.ai.p === undefined && !this.state.help && (\n          <WelcomeMessage\n            p='p'\n            parentCallback={type =>\n              type === 'help'\n                ? this.setState({ help: true })\n                : this.props.parentCallback({ ai: ['p', type] })}\n            error={this.props.error}\n          />\n        )}\n        {this.props.ai.p !== undefined && this.props.ai.q === undefined && !this.state.help && (\n          <WelcomeMessage\n            p='q'\n            parentCallback={type =>\n              type === 'help'\n                ? this.setState({ help: true })\n                : this.props.parentCallback({ ai: ['q', type] })}\n            error={this.props.error}\n          />\n        )}\n        {checkers.terminalTest(this.props.state) && (\n          <CongratulationMessage state={this.props.state} />\n        )}\n      </div>\n    )\n  }\n}\n\nclass WelcomeMessage extends React.Component {\n  render () {\n    return (\n      <div>\n        {this.props.error.length === 0 && (\n          <div>\n            <div>\n              <p>\n                {this.props.p === 'p' ? 'Brown starts.' : 'Beige is next.'}\n              </p>\n            </div>\n            <div>\n              <span onClick={() => this.props.parentCallback('help')}>\n                Read the rules.\n              </span>\n            </div>\n          </div>\n        )}\n        <div>\n          <p>\n            Select an AI for the brown side:\n          </p>\n        </div>\n        <div>\n          <span onClick={() => this.props.parentCallback('random')}>\n            Random Moves AI\n          </span>\n        </div>\n        <div>\n          <span onClick={() => this.props.parentCallback('dumb')}>\n            Dumb AI\n          </span>\n        </div>\n        <div>\n          <span onClick={() => this.props.parentCallback('intermediate')}>\n            Intermediate AI\n          </span>\n        </div>\n        <div>\n          <span onClick={() => this.props.parentCallback('smart')}>\n            Smart AI\n          </span>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport class CongratulationMessage extends React.Component {\n  render () {\n    return (\n      <div>\n        <p>\n          {checkers.heuristic(this.props.state) > 0 ? 'Brown' : 'Beige'} wins.\n          Congratulations! <br />\n          Reload to play again.\n        </p>\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport './App.css'\nimport { checkers, eq } from './aima/checkers'\nimport { minimaxDecision, maximinDecision } from './aima/minimax'\nimport { alphaBetaSearch, betaAlphaSearch } from './aima/alphabeta'\nimport Board from './Components/Board'\nimport CheckersGroup from './Components/CheckersGroup'\nimport Subtitles from './Components/Subtitles'\n\nconst config = {\n  pruning: false,\n  limits: {\n    dumb: 1,\n    intermediate: 2,\n    smart: 3\n  },\n  pauseTime: 700 /* ms */,\n  highlightsDefault: true\n}\n\nconst log = (player, action) =>\n  console.log(\n    (player === 'p' ? 'brown: ' : 'beige: ') +\n    action.map(([y, x]) => y + ', ' + x).join(' -> '))\n\nclass App extends React.Component {\n  constructor () {\n    super()\n    // initialize game state and ui configuration\n    this.state = {\n      state: checkers.initialState, // game state (cf. `checkers.js`)\n      selectedChecker: [], // highlighted checker piece coordinates\n      ai: { // whether the players are played by an ai and if so which one\n        p: undefined,\n        q: undefined\n      },\n      error: [], // user interaction errors to be shown as subtitles\n      highlights: config.highlightsDefault, // whether possible actions are highlighted\n      displayQueue: [] // contains action parts which still have to be displayed\n    }\n    // note that react state variables are accessed via `this.state` in general,\n    // so the game state is accessed via `this.state.state`\n  }\n\n  render () {\n    return (\n      <div className='app'>\n        <Board\n          highlightedSquares={\n            checkers.actions(this.state.state)\n              .filter(action => eq(action[0], this.state.selectedChecker))\n              .map(action => action[action.length - 1])\n          }\n          showHighlight={this.state.highlights}\n          parentCallback={(y, x, validMove) => this.moveResult(y, x, validMove)}\n        />\n        {['p', 'q'].map(player =>\n          <CheckersGroup\n            key={player}\n            player={player}\n            pieces={this.state.state[player]}\n            selectedChecker={this.state.selectedChecker}\n            highlightedCheckers={\n              this.state.highlights && this.state.state.player === player && !this.state.ai[this.state.state.player]\n                ? checkers.actions(this.state.state).map(action => action[0])\n                : []\n            }\n            parentCallback={(y, x) => this.highlightResult(y, x, player)}\n          />\n        )}\n        <Subtitles\n          parentCallback={arg => {\n            if ('highlights' in arg) {\n              this.setState({ highlights: arg.highlights })\n            } else if ('ai' in arg) {\n              this.setState({\n                ai: {\n                  ...this.state.ai,\n                  [arg.ai[0]]: arg.ai[1]\n                }\n              })\n              setTimeout(() => this.aiMoves(), 0)\n            }\n          }}\n          error={this.state.error}\n          ai={this.state.ai}\n          state={this.state.state}\n          highlights={this.state.highlights}\n          limits={config.limits}\n        />\n      </div>\n    )\n  }\n\n  moveResult (y, x, validMove) {\n    if (validMove) {\n      // when the user makes a manual move on one side, disable the ai for that side\n      const ai = this.state.ai\n      if (this.state.ai.p === undefined) ai.p = false\n      else if (this.state.ai.q === undefined) ai.q = false\n      this.setState({ ai: ai })\n\n      // perform move from highlighted checker to selected square\n      this.setState({\n        displayQueue: [\n          checkers.actions(this.state.state).filter(action =>\n            eq(action[0], this.state.selectedChecker) &&\n            eq(action[action.length - 1], [y, x])\n          )[0]\n        ]\n      })\n      /**\n       * TODO:\n       * when there are several paths to one square, let the user choose, somehow\n       * at the moment, the fist (arbitrary) move is chosen: `(...).filter(...)[0]`\n       */\n      setTimeout(() => this.regularActions(), 0)\n    } else this.setState({ error: ['invalid move', this.state, y, x] })\n  }\n\n  highlightResult (y, x, player) {\n    if (player === this.state.state.player) {\n      if (checkers.actions(this.state.state).some(action => eq(action[0], [y, x]))) {\n        this.setState({\n          selectedChecker: [y, x],\n          error: []\n        })\n      } else {\n        this.setState({ error: ['invalid checker', this.state, y, x, player] })\n      }\n    } else {\n      this.setState({ error: ['invalid checker', this.state, y, x, player] })\n    }\n  }\n\n  regularActions () {\n    if (!checkers.terminalTest(this.state.state)) {\n      if (this.state.displayQueue.length > 0) {\n        const action = this.state.displayQueue[0]\n        if (this.state.displayQueue.length > 1 || action.length > 2) {\n          setTimeout(() => this.regularActions(), config.pauseTime)\n        } else {\n          setTimeout(() => this.aiMoves(), config.pauseTime)\n        }\n        log(this.state.state.player, action)\n        this.setState({\n          state: {\n            ...checkers.result(this.state.state, action.slice(0, 2)),\n            player: action.length <= 2 && this.state.displayQueue.length <= 1\n              ? this.state.state.opponent\n              : this.state.state.player,\n            opponent: action.length <= 2 && this.state.displayQueue.length <= 1\n              ? this.state.state.player\n              : this.state.state.opponent\n          },\n          displayQueue: [\n            ...action.length > 2\n              ? [action.slice(1)]\n              : [],\n            ...this.state.displayQueue.slice(1)\n          ],\n          error: [],\n          selectedChecker: []\n        })\n      }\n    }\n  }\n\n  aiMoves () {\n    const pSearch = config.pruning ? alphaBetaSearch : minimaxDecision\n    const qSearch = config.pruning ? betaAlphaSearch : maximinDecision\n    const search = player => player === 'p' ? pSearch : qSearch\n    const move = player => {\n      let action\n      if (this.state.ai[player] === 'random') {\n        // random move\n        const randAction = actions => actions[Math.floor(Math.random() * actions.length)]\n        action = randAction(checkers.actions(this.state.state))\n      } else {\n        // minimax move\n        action = search(player)(\n          checkers, this.state.state, config.limits[this.state.ai[player]]\n        ).action\n      }\n      this.setState({ displayQueue: [action] })\n      setTimeout(() => this.regularActions(), config.pauseTime)\n    }\n    if (this.state.ai.p && this.state.state.player === 'p') {\n      move('p')\n    } else if (this.state.ai.q && this.state.state.player === 'q') {\n      move('q')\n    }\n  }\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.1/8 is considered localhost for IPv4.\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n  )\n)\n\nexport function register (config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW (swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker (swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister () {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister()\n    })\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\nserviceWorker.unregister()\n"],"sourceRoot":""}