(this.webpackJsonpcheckers=this.webpackJsonpcheckers||[]).push([[0],{18:function(t,e,n){t.exports=n(34)},23:function(t,e,n){},34:function(t,e,n){"use strict";n.r(e);var a=n(2),r=n.n(a),i=n(16),c=n.n(i),o=n(4),s=n(5),l=n(6),u=n(1),p=n(7),h=(n(23),n(9)),f=n(3),d=n(0),b=new(n(17).a)({initialState:{p:[[0,0,!1],[0,2,!1],[0,4,!1],[0,6,!1],[1,1,!1],[1,3,!1],[1,5,!1],[1,7,!1],[2,0,!1],[2,2,!1],[2,4,!1],[2,6,!1]],q:[[5,1,!1],[5,3,!1],[5,5,!1],[5,7,!1],[6,0,!1],[6,2,!1],[6,4,!1],[6,6,!1],[7,1,!1],[7,3,!1],[7,5,!1],[7,7,!1]],player:"p",opponent:"q"},player:function(t){return t.player},actions:function(t){return t[t.player].flatMap((function(e){var n=Object(d.a)(e,3),a=n[0],r=n[1],i=n[2];return S(i).flatMap((function(e){return[].concat(Object(f.a)(v(t,[a,r,i],e)),Object(f.a)(m(t,[a,r,i],e)))}))})).filter((function(t,e,n){return!n.some((function(t){return M(t[0],t[1])/2===2}))||M(t[0],t[1])/2===2}))},result:function(t,e){return q(t,e,!0)},terminalTest:function(t){return 0===t.p.length||0===t.q.length||0===b.actions(t).length},utility:function(t){return t.p.length-t.q.length},heuristic:function(t){return t.p.length-t.q.length}}),v=function(t,e,n){return O(g(t,e,n))&&!y(t,g(t,e,n))?[[e,j(t,e,n)]]:[]},m=function t(e,n,a){var r=Object(d.a)(n,3),i=r[0],c=r[1],o=r[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return O(g(e,[i,c],a,2))&&!y(e,g(e,[i,c],a,2))&&w(e,g(e,[i,c],a),e.opponent)?[[].concat(Object(f.a)(s),[[i,c,o],j(e,[i,c,o],a,2)])].concat(Object(f.a)(S(k(e,[i,c,o],a,2)).flatMap((function(n){return t(1===s.length?e:b._result(e,s),j(e,[i,c,o],a,2),n,[].concat(Object(f.a)(s),[[i,c,o]]))})))):[]},g=function(t,e,n){var a=Object(d.a)(e,3),r=a[0],i=a[1],c=(a[2],Object(d.a)(n,2)),o=c[0],s=c[1],l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return[r+o*C(t)*l,i+s*l]},k=function(t,e,n){var a=Object(d.a)(e,3),r=a[0],i=a[1],c=a[2],o=Object(d.a)(n,2),s=o[0],l=o[1],u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return c||r+s*C(t)*u===3.5+3.5*C(t)||2===u&&t[t.opponent].find((function(e){var n=Object(d.a)(e,2),a=n[0],c=n[1];return a===r+s*C(t)&&c===i+l}))[2]},j=function(t,e,n){var a=Object(d.a)(e,3),r=a[0],i=a[1],c=a[2],o=Object(d.a)(n,2),s=o[0],l=o[1],u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return[].concat(Object(f.a)(g(t,[r,i,c],[s,l],u)),[k(t,[r,i,c],[s,l],u)])},O=function(t){var e=Object(d.a)(t,2),n=e[0],a=e[1];return n>=0&&n<=7&&a>=0&&a<=7},y=function(t,e){return["p","q"].some((function(n){return w(t,e,n)}))},w=function(t,e,n){return t[n].some((function(t){return E(e,t)}))},C=function(t){return"p"===t.player?1:-1},E=function(t,e){var n=Object(d.a)(t,2),a=n[0],r=n[1],i=Object(d.a)(e,2),c=i[0],o=i[1];return a===c&&r===o},S=function(t){return[[1,-1],[1,1]].concat(Object(f.a)(t?[[-1,-1],[-1,1]]:[]))},q=function t(e,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n.length>=2?x(t(e,n.slice(0,n.length-1)),n[n.length-2],n[n.length-1],a):e},x=function(t,e,n,a){var r;return r={},Object(h.a)(r,t.player,[].concat(Object(f.a)(t[t.player].filter((function(t){return!E(t,e)}))),[n])),Object(h.a)(r,t.opponent,t[t.opponent].filter((function(t){return M(e,n)/2===1||!E(t,B(e,n))}))),Object(h.a)(r,"player",a?t.opponent:t.player),Object(h.a)(r,"opponent",a?t.player:t.opponent),r},M=function(t,e){var n=Object(d.a)(t,2),a=n[0],r=n[1],i=Object(d.a)(e,2),c=i[0],o=i[1];return Math.abs(c-a)+Math.abs(o-r)},B=function(t,e){var n=Object(d.a)(t,2),a=n[0],r=n[1],i=Object(d.a)(e,2);return[(a+i[0])/2,(r+i[1])/2]},N=function(t,e,n){return t.actions(e).map((function(a){return{action:a,outcome:T(t,t.result(e,a),n-1)}})).reduce((function(t,e){return e.outcome<t.outcome?e:t}))},T=function(t,e,n){return t.terminalTest(e)?t.utility(e):n<1?t.heuristic(e):t.actions(e).reduce((function(a,r){return Math.max(a,W(t,t.result(e,r),n-1))}),-1/0)},W=function(t,e,n){return t.terminalTest(e)?t.utility(e):n<1?t.heuristic(e):t.actions(e).reduce((function(a,r){return Math.min(a,T(t,t.result(e,r),n-1))}),1/0)},A=function(t){function e(){return Object(o.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(s.a)(e,[{key:"colour",value:function(t){return(this.props.y+this.props.x)%2===1?"light-tile":t?"dark-tile active":"dark-tile"}},{key:"render",value:function(){var t=this;return r.a.createElement("div",{ref:[this.props.y,this.props.x].join("-"),className:this.colour(this.props.highlighted),onClick:function(e){t.props.highlighted&&t.props.parentCallback()}})}}]),e}(r.a.Component),R=function(t){function e(){return Object(o.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){var t=this;return r.a.createElement("div",{className:"board"},[7,6,5,4,3,2,1,0].map((function(e){return r.a.createElement("div",{className:"row",key:e},[0,1,2,3,4,5,6,7].map((function(n){return r.a.createElement(A,{highlighted:t.props.highlights.some((function(t){var a=Object(d.a)(t,2),r=a[0],i=a[1];return r===e&&i===n})),y:e,x:n,state:t.props.state,parentCallback:function(){return t.props.parentCallback(e,n)},key:n})})))})))}}]),e}(r.a.Component),U=function(t){function e(){return Object(o.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){var t,e,n=this;return r.a.createElement("div",{onClick:function(t){n.props.parentCallback()},className:("p"===this.props.player?"checker-dark":"checker-light")+(E(this.props.clickedChecker,[this.props.y,this.props.x])?" active":"")+(this.props.royal?" royal":""),style:(t=this.props.y,e=this.props.x,{top:"calc(50vh - 50vmin + 1.25vmin + "+12.5*(7-t)+"vmin)",left:"calc(50vw - 50vmin + 1.25vmin + "+12.5*e+"vmin)"})})}}]),e}(r.a.Component),D=function(t){function e(){return Object(o.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){var t=this;return this.props.pieces.map((function(e){var n=Object(d.a)(e,2),a=n[0],i=n[1];return r.a.createElement(U,{player:t.props.player,clickedChecker:t.props.clickedChecker,parentCallback:function(){return t.props.parentCallback(a,i)},y:a,x:i,royal:t.props.pieces.find((function(t){return t[0]===a&&t[1]===i}))[2],key:a+","+i})}))}}]),e}(r.a.Component),J=function(t){function e(){var t;return Object(o.a)(this,e),(t=Object(l.a)(this,Object(u.a)(e).call(this))).state={state:b.initialState,clickedChecker:[],highlights:[],pai:void 0,qai:void 0,finished:!1,message:""},t}return Object(p.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){var t=this;return setTimeout((function(){var e,n,a;b.terminalTest(t.state.state)?t.state.finished||t.setState({finished:!0}):t.state.pai&&"p"===t.state.state.player?t.setState({state:b.result(t.state.state,(e=b,n=t.state.state,a=3,e.actions(n).map((function(t){return{action:t,outcome:W(e,e.result(n,t),a-1)}})).reduce((function(t,e){return e.outcome>t.outcome?e:t}))).action)}):t.state.qai&&"q"===t.state.state.player&&t.setState({state:b.result(t.state.state,N(b,t.state.state,3).action)})}),500),r.a.createElement("div",{className:"app",onDoubleClick:function(){void 0===t.state.pai?t.setState({pai:!0}):void 0===t.state.qai?t.setState({qai:!0}):t.state.finished&&t.setState({state:b.initialState,clickedChecker:[],highlights:[],pai:void 0,qai:void 0,finished:!1})}},r.a.createElement(R,{highlights:this.state.highlights,parentCallback:function(e,n){void 0===t.state.pai?t.setState({pai:!1}):void 0===t.state.qai&&t.setState({qai:!1}),t.setState({state:b.result(t.state.state,b.actions(t.state.state).filter((function(a){return E(a[0],t.state.clickedChecker)&&E(a[a.length-1],[e,n])}))[0]),highlights:[]})}}),["p","q"].map((function(e){return r.a.createElement(D,{key:e,player:e,pieces:t.state.state[e],clickedChecker:t.state.clickedChecker,parentCallback:function(n,a){e===t.state.state.player?b.actions(t.state.state).some((function(t){return E(t[0],[n,a])}))?t.setState({clickedChecker:[n,a],message:"",highlights:b.actions(t.state.state).filter((function(t){return E(t[0],[n,a])})).map((function(t){return t[t.length-1]}))}):t.setState({message:"For some reason, you cannot move this piece."}):t.setState({message:("p"===e?"Brown ":"Beige ")+" is next."})}})})),r.a.createElement("div",{className:"subtitles"},this.state.finished&&r.a.createElement("p",null,b.heuristic(this.state.state)>0?"Brown":"Beige"," wins. Congratulations! ",r.a.createElement("br",null),"Doubleclick to play again."),void 0===this.state.pai&&r.a.createElement("p",null,"Brown starts. ",r.a.createElement("br",null),"Make a move, or doubleclick if the algorithm should play the brown checkers."),void 0!==this.state.pai&&void 0===this.state.qai&&r.a.createElement("p",null,"Beige is next. ",r.a.createElement("br",null),"Make a move, or doubleclick if the algorithm should play the beige checkers."),""!==this.state.message&&r.a.createElement("p",null,this.state.message)))}}]),e}(r.a.Component),L=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function P(t,e){navigator.serviceWorker.register(t).then((function(t){t.onupdatefound=function(){var n=t.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),e&&e.onUpdate&&e.onUpdate(t)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(t)))})}})).catch((function(t){console.error("Error during service worker registration:",t)}))}c.a.render(r.a.createElement(J,null),document.getElementById("root")),function(t){if("serviceWorker"in navigator){if(new URL("/checkers",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/checkers","/service-worker.js");L?(!function(t,e){fetch(t).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(t){t.unregister().then((function(){window.location.reload()}))})):P(t,e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,t),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):P(e,t)}))}}()}},[[18,1,2]]]);
//# sourceMappingURL=main.b962cf9c.chunk.js.map